// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  name     String?
  password String
}

model Persona {
  id              Int       @id @default(autoincrement())
  nombre          String
  apellidoPaterno String
  apellidoMaterno String
  fechaNacimiento DateTime  @db.Date
  direccion       String?
  telefono        String?
  empleado        Empleado?
  // manager         Manager?
}

model Empleado {
  id             Int          @id @default(autoincrement())
  personaId      Int          @unique
  persona        Persona      @relation(fields: [personaId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  activo         Boolean      @default(true)
  departamentoId Int
  departamento   Departamento @relation(fields: [departamentoId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model Departamento {
  id          Int        @id @default(autoincrement())
  nombre      String
  descripcion String?
  activo      Boolean    @default(true)
  empleados   Empleado[]
  // managerId   Int        @unique
  // manager     Manager    @relation(fields: [managerId], references: [id])
}

// model Manager {
//   id           Int           @id @default(autoincrement())
//   personaId    Int           @unique
//   persona      Persona       @relation(fields: [personaId], references: [id], onDelete: Cascade, onUpdate: Cascade)
//   activo       Boolean       @default(true)
//   departamento Departamento?
// }
